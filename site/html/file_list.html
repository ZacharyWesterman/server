<div class="card alt">
	<div class="card-inner">
		<div name="page_list"></div><br>

		<div class="code-input">
			<input id="tag-query" placeholder="Custom tag query" onKeyUp="sync_tagq(this, $('tag-query-overlay'))">
			<code id="tag-query-overlay" onclick="$('tag-query').focus()"></code>
		</div>
		<div class="error" id="tag-error"></div>
	</div>
</div>

<div id="blob-list"></div>

<div class="card alt">
	<div class="card-inner">
		<div name="page_list"></div>
	</div>
</div>

<script src="/js/page/file_list.js"></script>

<script>
window.sync_tagq = async function(input, output)
{
	const oper = 'blue'
	const func = 'orange'
	const strn = 'green'

	var text = input.value
	text = text.replace(/"(\\"|[^"])*"/g, `<span style="color:${strn}">$&</span>`)
	text = text.replace(/(?<![><"])(?!and)(?!or)(?![&|])\b\w+\b(?![><="])/g, `<span style="color:${strn}">$&</span>`)
	text = text.replace(/\band\b|\bor\b|&|\|/g, `<span style="color:${oper}">$&</span>`)
	text = text.replace(/\b(eq|lt|le|gt|ge)\b/g, `<span style="color:${func}">$&</span>`)

	output.innerHTML = text
}
</script>
