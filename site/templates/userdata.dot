<div class="card">
	<div class="card-inner">
		<h1>
			{{?!it.self_view}}
				<button class="icon" *click="hide_user_data"><i class="fa-solid fa-xmark fa-xl"></i></button>
			{{?}}
			Edit User Info
		</h1>
		<h2>{{=it.user.username}}</h2>
		<div>
			<input id="user-new-password" type="password" placeholder="New Password" autocomplete="new-password"><br>
			<input id="user-new-password2" type="password" placeholder="Confirm Password" autocomplete="new-password">
			<button class="icon" *click="update_password($('user-new-password').value, '{{=it.user.username}}')"><i class="fa-solid fa-right-to-bracket fa-lg"></i></button>
		</div>
		<table>
			{{~it.perms: perm}}
				<tr>
					<td>
						<span class="tooltip">
							{{=perm.name}}
							<span class="tooltiptext t-right" id="perm-tooltip-{{=perm.name}}">Placeholder Text. You should never see this!</span>
						</span>
					</td>
					<td><input id="perm-{{=perm.name}}" type="checkbox" {{?it.user.perms.includes(perm.name)}}checked{{?}} *click="set_perms()" {{?((perm.name==='admin') && (api.username === it.user.username)) || it.self_view}}disabled{{?}}></td>
				</tr>
			{{~}}
		</table>

		<br>
		<i class="left">Active Sessions: <span id="session-ct-{{=it.user.username}}">{{=it.sessions}}</span></i>
		<button class="right" *click="revoke_sessions('{{=it.user.username}}')">Revoke?</button>
		<span class="tooltip" *click="show_sessions_info">
			<i class="fa-solid fa-circle-question"></i>
			<span class="tooltiptext t-center">What does this mean?</span>
		</span>
		<br>
		<i>Last Login:</i> {{?it.user.last_login}}{{=date.output(it.user.last_login)}}<br><span class="disabled">{{=date.elapsed(it.user.last_login)}}</span>{{??}}Never{{?}}

		{{?!it.self_view}}
			<button class="big wide border" *click="confirm_delete_user('{{=it.user.username}}')">Delete</button>
		{{?}}
	</div>
</div>
