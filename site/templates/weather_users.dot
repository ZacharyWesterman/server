{{~it:user}}
	<div class="card highlight {{?user.exclude}}disabled{{?}}">
		<div class="card-inner">
			<div onclick="$.toggle_expand('card-{{=user.username}}')">
				<h4><b>{{=user.username}}</b>{{?user.exclude}}<i> (disabled)</i>{{?}}</h4>
				<p>Last sent at: {{=user.last_sent || 'Never'}}</p>
			</div>

			<div class="expand-container">
				<div id="card-{{=user.username}}" class="expand-contract">
					<table>
						<tr>
							<td>Phone:</td>
							<td><input id="phone-{{=user.username}}" type="tel" value="{{=user.phone}}" onchange="$.validate.phone(this) && update_user('{{=user.username}}', this)" onKeyUp="$.enforce.phone(this)"></td>
						</tr>
						<tr>
							<td>Lat:</td>
							<td><input id="lat-{{=user.username}}" type="number" step="any" value="{{=user.lat}}" onchange="$.validate.number(this) && update_user('{{=user.username}}', this)"></td>
						</tr>
						<tr>
							<td>Lon:</td>
							<td><input id="lon-{{=user.username}}" type="number" step="any" value="{{=user.lon}}" onchange="$.validate.number(this) && update_user('{{=user.username}}', this)"></td>
						</tr>
					</table>

					<br>
					{{?user.exclude}}
						<button onclick="enable_user('{{=user.username}}', this)">Enable</button>
					{{??}}
						<button onclick="disable_user('{{=user.username}}', this)">Disable</button>
					{{?}}
					<button onclick="delete_user('{{=user.username}}', this)">Delete</button>
				</div>
			</div>
		</div>
	</div>
{{~}}
